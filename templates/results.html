{% extends 'base.html' %}

{% block main %}

<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.16/css/jquery.dataTables.min.css"/>


<script type="text/javascript" src="https://cdn.datatables.net/r/bs-3.3.5/jqc-1.11.3,dt-1.10.8/datatables.min.js"></script>

<script type="text/javascript" src="https://cdn.datatables.net/responsive/1.0.7/js/dataTables.responsive.min.js"></script>

<script type="text/javascript" charset="utf-8">
	$(document).ready(function(){
		$('#sources').DataTable({
			responsive: true, 
			details: true
		});
	});
</script>
<div class="jumbotron">
    <h1 class="display-3">Find sources</h1>
    <p class="lead">Contact the following experts.</p>
</div>
{% if results.count == 0 %}
	<p>Sorry, there are no sources available at this time.</p>
{% else %}
<div class="main-content">
	<table id="sources" class="display responsive stripe lead" cellspacing="0" width="100%">
		<thead>
			<tr>
				{% for field in field_list %}
					<th>{{ field|title }}</th>
				{% endfor %}
			</tr>
		</thead>
		<tbody>
			{% for result in results %}
				<tr>
					<td>
						<a href="{% url 'source' slug=result.slug %}">
							{{ result.last_name }}
						</a>
					</td>
					<td>
						<a href="{% url 'source' slug=result.slug %}">
							{{ result.first_name }}
						</a>
					</td>
					<td>{{ result.type_of_scientist }}</td>
					<td>{{ result.expertise }}</td>
					<td>{{ result.organization }}</td>
				</tr>
			{% endfor %}
		</tbody>
	</table>
</div>
{% endif %}
{% endblock %}
